---
description: Review and triage improvement proposals (Accept/Reject/Defer)
argument-hint: [context-directory]
---

# Review Proposals Skill

Reviews improvement proposals in `docs/proposals/` and lets the user triage each one.

## Arguments

- `$0`: Optional context directory path (e.g., `docs/proposals/2026-02-06-codebase-review`). Defaults to the most recent context directory.

## Instructions

- If `$0` is omitted, use the most recent context directory in `docs/proposals/`.
- If the target directory does not exist or has no proposal files, inform the user and exit
- Process proposals whose Decision section has no option checked, or has Defer checked
- For each proposal to review:
  - Read and present a brief summary of the proposal (include existing Notes if previously deferred)
  - Use AskUserQuestion to let the user choose: **Accept** / **Reject** / **Defer**
  - If changing from Defer to another decision, uncheck Defer before checking the new option
  - **Accept**: Check the Accept box in the proposal, then move it to the plan directory and start plan creation
  - **Reject**: Check the Reject box in the proposal and leave it in place as a record
  - **Defer**: Check the Defer box in the proposal and leave it in place for future review

## Proposal Directory Structure

```
docs/proposals/
  {YYYY-MM-DD}-{context}/
    {descriptive-name}.md
    {descriptive-name}.md
```

- Context directory: `{date}-{context-description}` (e.g., `2026-02-06-codebase-review`)
- Proposal files: `{descriptive-name}.md` (e.g., `expand-test-coverage.md`)
- No numbering — numbers are assigned at plan creation

## Accept Workflow

After checking the Accept box, ask the user how to create the plan:

### Option A: Create as Top-Level Plan

- Determine the next sequential plan number in `docs/plans/{year}/`
- Create plan directory: `docs/plans/{year}/{zero-padded-number}-{descriptive-name}/` (3-digit zero-padding)
- Move the proposal file to `docs/plans/{year}/{zero-padded-number}-{descriptive-name}/proposal.md`
- Start the new-plan workflow to create `README.md` based on the moved proposal

### Option B: Add as Sub-Plan of Existing Plan

- Ask the user to specify (or select) the parent plan
- Determine the next sequential number in `{parent-plan}/plans/`
- Create the `plans/` directory under the parent if it doesn't exist
- Create sub-plan directory: `{parent-plan}/plans/{zero-padded-number}-{descriptive-name}/` (3-digit zero-padding)
- Move the proposal file to `{parent-plan}/plans/{zero-padded-number}-{descriptive-name}/proposal.md`
- Start the new-plan workflow to create `README.md` based on the moved proposal

## Reject Workflow

- Check the Reject box in the Decision section
- Leave the file in place as a record to prevent duplicate proposals in the future

## Defer Workflow

- Check the Defer box in the Decision section
- Leave the file in place for future review

## Notes

- Proposals are typically generated by AI during codebase reviews or feature development
- Accepted proposals become the basis for plan documents
- Rejected/deferred proposals remain in `docs/proposals/` as historical records — this helps avoid regenerating the same proposals
- Process proposals within a context directory in file name order
- When generating new proposals, check existing rejected/deferred proposals to avoid duplicates
